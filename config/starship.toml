# Starship configuration — fr3akazo1d
# Red-team aesthetics: neon cyan + red, two-line prompt

format = """
$directory\
$git_branch\
$git_status\
$python\
$nodejs\
$rust\
$docker_context\
$sudo\
$cmd_duration\
$status\
$line_break\
$character"""

right_format = """$memory_usage$time"""

# Blank line between commands for readability
add_newline = true

# ── OS ──────────────────────────────────────────────────────────
[os]
style    = "bold red"
disabled = true

[os.symbols]
Arch  = "󰣇 "
Linux = " "

# ── Username ─────────────────────────────────────────────────────
[username]
style_user  = "bold cyan"
style_root  = "blink bold red"
format      = "[$user]($style)"
disabled    = true
show_always = false

# ── Hostname ─────────────────────────────────────────────────────
[hostname]
ssh_only = true
format   = "[@$hostname](bold red)"
disabled = true

# ── Directory ────────────────────────────────────────────────────
[directory]
style             = "bold cyan"
format            = "[$path]($style)[$read_only]($read_only_style) "
truncation_length = 4
truncation_symbol = "…/"
read_only         = " 󰌾"
read_only_style   = "bold red"

[directory.substitutions]
"Documents"    = "󰈙 "
"Downloads"    = " "
"Music"        = "󰝚 "
"Pictures"     = " "
"opt/Cyber-Sec" = "󰒃 "
"home"         = " "

# ── Git ──────────────────────────────────────────────────────────
[git_branch]
symbol = " "
format = "[ $symbol$branch(:$remote_branch)]($style)"
style  = "bold purple"

[git_status]
format     = "([$all_status$ahead_behind]($style) )"
style      = "bold yellow"
conflicted = " "
ahead      = "⇡${count}"
behind     = "⇣${count}"
diverged   = "⇕⇡${ahead_count}⇣${behind_count}"
up_to_date = ""
untracked  = "?${count}"
stashed    = " "
modified   = "!${count}"
staged     = "+${count}"
renamed    = "»${count}"
deleted    = "✘${count}"

# ── Languages ────────────────────────────────────────────────────
[python]
symbol = " "
format = "[ ${symbol}${pyenv_prefix}(${version})(\\($virtualenv\\))]($style)"
style  = "bold yellow"

[nodejs]
symbol = " "
format = "[ $symbol($version)]($style)"
style  = "bold green"

[rust]
symbol = " "
format = "[ $symbol($version)]($style)"
style  = "bold red"

# ── Docker ───────────────────────────────────────────────────────
[docker_context]
symbol = " "
format = "[ $symbol$context]($style)"
style  = "bold blue"

# ── Sudo (cached credentials indicator) ──────────────────────────
[sudo]
symbol   = "󰔡 "
style    = "bold red"
format   = "[ $symbol]($style)"
disabled = false

# ── Command duration ─────────────────────────────────────────────
[cmd_duration]
min_time = 2_000
format   = "[ $duration](bold yellow)"

# ── Exit status ──────────────────────────────────────────────────
[status]
symbol          = " "
not_found_symbol = "󰍉 "
sigint_symbol   = " "
style           = "bold red"
format          = "[ $symbol$status]($style)"
disabled        = false
map_symbol      = true

# ── Character ────────────────────────────────────────────────────
[character]
success_symbol = "[❯](bold cyan)"
error_symbol   = "[❯](bold red)"
vimcmd_symbol  = "[❮](bold green)"

# ── Fill (disabled)
[fill]
symbol   = "─"
style    = "bold red"
disabled = true

# ── Right side: memory + time ────────────────────────────────
[memory_usage]
disabled  = false
threshold = 60
format    = "[$symbol${ram}]($style)"
symbol    = "󰃛 "
style     = "bold dimmed red"

[time]
disabled    = false
format      = "[ $time ]($style)"
style       = "bold dimmed cyan"
time_format = "%H:%M:%S"

# ── Custom: VPN status (disabled — enable by adding $custom.vpn to format)
[custom.vpn]
description = "Active VPN interfaces (tun*, wg*, wt*)"
command     = "ifaces=$(ip -o link show up 2>/dev/null | awk -F': ' '{print $2}' | grep -E '^(tun|wg|wt)[0-9]+') && echo \"󰖂 $(echo $ifaces | sed 's/tun[0-9]*/OPN/;s/wg[0-9]*/WG/;s/wt[0-9]*/NB/' | sort -u | tr '\n' '+' | sed 's/+$//')\" || exit 1"
when        = "true"
format      = "[ $output]($style)"
style       = "bold green"
disabled    = true
shell       = ["bash", "--norc", "--noprofile", "-c"]

# ── Custom: Tor (disabled — enable by adding $custom.tor to format)
[custom.tor]
description = "Tor daemon running"
command     = "echo '󰗹 Tor'"
when        = "systemctl is-active --quiet tor"
format      = "[ $output]($style)"
style       = "bold cyan"
disabled    = true
shell       = ["bash", "--norc", "--noprofile", "-c"]
